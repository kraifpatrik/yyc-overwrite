# YYC Overwrite
A simple command line tool that allows you to easily overwrite C++ files generated by YYC.

**Requires [Python 3](https://www.python.org/downloads/)**

## How to use
1. Open your GameMaker Studio 2 project and run it using YYC.
2. Near the top of the Output console you will se a line like `"C:\ProgramData/GameMakerStudio2/Cache/runtimes\runtime-2.2.2.326/bin/Igor.exe"  -j=12 -options="C:\Users\kraif\AppData\Local\GameMakerStudio2\GMS2TEMP\build.bff"  -- Windows Run`. The options path is required by the tool.
3. Run the tool using `python yyc-overwite.py`
4. It will ask for the path to the build.bff file. You can just press enter to leave the default value.
5. The tool now prints some info about the project, including "Target directory", which is the YYC cache directory where you can find the original C++ files.
6. In GM, you can now write comment blocks with C++, which will either be injected or overwrite the generated function - see examples.
7. Run the tool again using the same command as in `3.`, it will now modify the C++ files.

## Examples
When the comment tag starts with `cpp-overwrite`, the entire body of the generated file will be replaced with the content of the comment block. Overwriting is idempotent - can be called multiple times without cleaning cache or running the project again.

```js
/*cpp-overwrite
for (size_t i = 0; i < 10; ++i)
{
  YYGML_show_debug_message("It works! :)");
}
*/
for (var i = 0; i < 10; ++i)
{
  show_debug_message("It doesn't work! :(");
}
```

If a comment block starts with `cpp` only, its content will be injected at given position (determined using `YY_STACKTRACE_LINE` calls).

```js
/*cpp for (size_t i = 0; i < 10; ++i) { */
  show_debug_message("This should be printed 10 times.");
/*cpp } */
```

Injecting is currently not idempotent - you will have to clean cache or run the project before injecting code again! `YY_STACKTRACE_LINE` calls are automatically removed during injection.
